<aura:component controller="ProcessusController"
	extends="c:AbstractListCmp">
	
	<aura:attribute name="items" type="Processus__c[]"
		description="Liste des processus ou le responsable est pilote" />
	<aura:attribute name="idRiskManager" type="String" description="id risk manager" />
	<aura:handler action="{!c.doInit}" name="init" value="{!this}" />
	
	<!-- evenement pour naviguer vers ProcessusShow --> 
	<aura:registerEvent name="navigateToProcessusShow"
		type="c:navigateToProcessusShow" />
	
	<div class="slds-container--fluid">
		<!-- 	 header -->
		<div class="slds-page-header">
			<div class="slds-media">
				<div class="slds-media__figure">
					<span class="slds-icon_container slds-icon-standard-opportunity"
						title="Description of icon when needed"> <c:svg class="slds-icon slds-page-header__icon" aria-hidden="true"
							xlinkHref="{!$Resource.slds+'/assets/icons/standard-sprite/svg/symbols.svg#opportunity'}" />
					</span>
				</div>
				<div class="slds-media__body">
					<h1 class="slds-page-header__title slds-truncate slds-align-middle"
						title="Liste des plans d'action">Liste des Processus dont le Responsable est Pilote
					</h1>
					<p class="slds-text-body_small slds-line-height_reset">
						Nombre d'enregistrements ({!v.items.length})
					</p>
				</div>
			</div>
		</div>
		<!-- fin header -->
		<!-- 		debut body -->
		<div class="slds-box slds-theme_shade slds-theme_alert-texture">
			<!-- 		filtre -->
			<!--     debut datatable  Name,pilote__c,-->
			<table id="table"
				class="slds-table slds-table_bordered slds-max-medium-table_stacked-horizontal slds-table_striped">
				<thead>
					<tr class="slds-text-title_caps">
						<th scope="col"
							class="slds-cell-wrap slds-cell-buffer_left slds-cell-buffer_right">
							<div class="slds-truncate" title="Nom">Nom</div>
						</th>
						
						<th scope="col"
							class="slds-cell-wrap slds-cell-buffer_left slds-cell-buffer_right">
							<div class="slds-truncate" title="date d'Application">date d'Application</div>
						</th>
						
						<th scope="col"
							class="slds-cell-wrap slds-cell-buffer_right slds-cell-buffer_left">
							<div class="slds-truncate" title="Stage">Actions</div>
						</th>
					</tr>
				</thead>
				<tbody>
					<aura:iteration items="{!v.items}" var="item" indexVar="i">
						<tr class="slds-hint-parent">
							<td scope="row" data-label="Libellé"
								class="slds-cell-wrap slds-cell-buffer_left slds-cell-buffer_right">
								<div class="slds-truncate" title="{!item.Name}">{!item.Name}</div>
							</td>
							<td scope="row" data-label="Libellé"
								class="slds-cell-wrap slds-cell-buffer_left slds-cell-buffer_right">
								<div class="slds-truncate" title=""><ui:outputDate value="{!item.dateApplication__c}"/></div>
							</td>
							
							<td data-label="Actions"
								class="slds-cell-wrap slds-cell-buffer_right slds-cell-buffer_left">
								<div class="slds-truncate" title="Actions">
									<div class="slds-button-group" role="group">
										<a data-index="{!i}" onclick="{!c.navigateToShow}"
											class="slds-button slds-button_icon slds-button_icon-border-filled"
											title="Afficher" aria-pressed="false"> <c:svg class="slds-button__icon" aria-hidden="true"
												xlinkHref="{!$Resource.slds+'/assets/icons/utility-sprite/svg/symbols.svg#preview'}" />
											<span class="slds-assistive-text">afficher</span>
										</a>

									</div>


								</div>
							</td>

						</tr>
					</aura:iteration>
				</tbody>
			</table>
		</div>
		<!-- fin body -->
	</div>
</aura:component>